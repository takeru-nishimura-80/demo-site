<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR AI Chatbot</title>
    <link rel="stylesheet" href="chatbot.css">
</head>
<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-title">
                    <span class="chatbot-icon">🧑‍💻</span>
                    <span>HR AI Chatbot</span>
                </div>
                
                <!-- 使い方説明（トグル対応） -->
                <div class="usage-guide">
                    <button class="usage-toggle collapsed" id="usageToggle">
                        <span class="usage-title">使い方</span>
                        <span class="toggle-icon">▼</span>
                    </button>
                    <div class="usage-content collapsed" id="usageContent">
                        <ol class="usage-steps">
                            <li>まずは「FAQ」のチャットで問い合わせてみましょう</li>
                            <li>「FAQ」で解決しない場合は、「ドキュメント」で問い合わせてみましょう</li>
                            <li>それでも解決しない場合は、担当者に問い合わせてください
                                <div class="contact-info">
                                    <div>e-mail : xxxx@company.com</div>
                                    <div>tel : 080-1234-5678</div>
                                </div>
                            </li>
                        </ol>
                    </div>
                </div>
                
                <!-- タブ切り替え -->
                <div class="tab-container">
                    <button class="tab-btn active" data-tab="faq">
                        <span class="tab-icon">❓</span>
                        <span>FAQ</span>
                    </button>
                    <button class="tab-btn" data-tab="notion">
                        <span class="tab-icon">📝</span>
                        <span>ドキュメント</span>
                    </button>
                </div>
                
                <!-- データソース表示 -->
                <div class="data-source-info">
                    <span class="source-label">データソース:</span>
                    <span class="source-name" id="sourceDisplay">FAQ</span>
                </div>
            </div>
            <div class="sidebar-content">
                <button class="new-chat-btn">
                    <span class="btn-icon">+</span>
                    新規チャット
                </button>
                
                <!-- Powered by Dify をサイドバー内に移動 -->
                <div class="sidebar-footer">
                    <div class="powered-by">
                        <span>Powered by</span>
                        <strong>Dify</strong>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Chat Area -->
        <main class="main-chat">
            <!-- 初期状態の表示 -->
            <div class="welcome-container" id="welcomeContainer">
                <div class="welcome-avatar">🧑‍💻</div>
                <div class="welcome-message">人事制度に関してなんでも聞いてね</div>
            </div>

            <!-- チャットエリア（初期は非表示） -->
            <div class="chat-container" id="chatContainer" style="display: none;">
                <div class="chat-messages" id="chatMessages">
                </div>

                <!-- タイピングインジケーター -->
                <div class="typing-indicator" id="typingIndicator">
                    <div class="bot-avatar">🤖</div>
                    <div class="typing-dots">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            </div>

            <!-- 応答を停止ボタン -->
            <div class="stop-response-area" id="stopResponseArea" style="display: none;">
                <button class="stop-response-btn" id="stopResponseBtn">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2"/>
                    </svg>
                    応答を停止
                </button>
            </div>

            <!-- 入力エリア -->
            <div class="chat-input-area">
                <div class="chat-input-container">
                    <input
                        type="text"
                        class="chat-input"
                        id="messageInput"
                        placeholder="ボットと話す" />
                    <button class="send-button" id="sendButton">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 12h18m-9-9l9 9-9 9"/>
                        </svg>
                    </button>
                </div>
            </div>
        </main>
    </div>


    <script src="chatbot.js"></script>
</body>
</html>